<h1>シングルスレッドのイベント駆動アーキテクチャ</h1>
nginxで採用されているソフトウェアアーキテクチャです。<br />シングルスレッドでループ処理をまわし、キューに溜まったイベントを処理していく方式です。<br />javascriptなどで用いられています。<br />python/tkinterを使用したことがある人なら「root.mainloop()」ってプログラムの最後に書くと思います。<br />これです。<br />for/whileループのイベント処理特化型だと思えばok!です。<br /><br />イメージとしては郵便局員がA支店とB支店をいったりきたり(イベントループ)して、その間に溜まった郵便物(イベント)を順に処理していく感じです。<br /><br />この方法ではシングルスレッドで処理をするため、不要なプロセスを生成せず処理するプロセスを変換する際のロスであるコンテキストスイッチコストもかからないため、webサーバ用のソフトウェアにおいては大量なリクエストに対しても高速にレスポンスを返すことができます。<br />これで<a href="?date=20211129">C10K問題</a>を克服します。<br /><br />上では利点だけを紹介しましたが、問題点もあります。<br />プロセスのどれかに異常が生じて処理が終了しなかった場合、他の全ての処理もストップしてしまいます。<br />C10K問題ならぬC2問題が発生してしまいます。<br />ということでシングルスレッドのイベント駆動アーキテクチャでは絶対にプロセスが適切に実行・終了される保証が必要です。