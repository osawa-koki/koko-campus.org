<h1>2038年問題(php)</h1>
なんとなく、思い出したので、、、
<div class="quote">
	<div>2038年問題</div>
	2038年01月19日03時14分07秒を過ぎると、コンピュータが誤動作する可能性があるという問題です。<br />時間を32ビットで表すと最大で「2,147,483,647」まで表すことができるが、UNIX時間ではこれは2038年01月19日03時14分07秒となります。<br />したがって、この時間を過ぎるとオーバーフローが発生し、1970年01月01日に戻ってしまいます。
</div>
ということで、これを体験してみましょう♪
<img src="data/20220203.gif" alt="2038年問題" />
上のプログラムのソースコードは以下の通りです。
<code class="php">
	for ($i = 0; $i < 60; $i++) { 
		$timestamp = date("Y-m-d H:i:s", strtotime("2038-01-19 03:14:{$i}"));
		echo $timestamp. "\n";
		sleep(1);
	}
</code>
<h2>解決策</h2>
2038年問題の解決策は以下の2通りです。
<ul>
	<li>Datetime型の仕様</li>
	<li>64ビット型の仕様</li>
</ul>
上のコードではDate型を使用しましたが、代わりにDatetime型を使用することでこの問題を解決できます。<br />Datetime型は年・月・日・etc...を個別に管理するため上限がありません。<br /><br />また、phpインタプリタを64ビット型のものを使用することでこの問題を克服することもできます。<br />時間を32ビットで表すというのは定義されているわけではなく独自に実装されているため、新しいバージョンを使用すればおそらく64ビットで表されているため問題ありません。
<script src="../package/js-modules/koko-code/ver1.js" charset="utf-8" defer></script>