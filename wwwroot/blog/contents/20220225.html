<h1>分割代入と関数型言語(js)</h1>
昨日の記事で書いた分割代入について、関数型言語の観点から説明します。<br />分割代入、もといスプレット構文は関数型言語で頻繁に使用されます。<br /><br />理由は、関数に配列を渡した時に配列のひとつめの要素だけを取り出して処理をして、それ以外(余り)を取り出してもう一度その関数に渡して、余りの配列のひとつめの要素を取り出して処理をして、さらに余った部分をもう一度その関数に渡して、、、<br />この処理を余りの配列がなくなるまで繰り返す再帰関数処理を多用するからです。<br /><br />なんでこんな面倒くさいことするの???<br />forループでいいじゃん!!って思う方もいると思いますが、関数型言語は変数の値を上書き(再代入)することはできません。<br />これはforループ処理で使用する「i++」が使用できないことを意味します。<br /><br />関数型言語は参照透過性を大事にしていますから、、、<br /><br />ということで、配列の要素をforループを用いずにひとつずつ取り出して処理しましょう♪
<code class="javascript">
	const map = (fx, [x, ...rest]) =&gt; x === undefined
		? []
		: [fx(x), ...map(fx, rest)]
	;

	function power(x) {
		return x ** 2;
	}

	const numbers = [1, 2, 3, 4, 5];

	console.log(map(power, numbers));

	/* &darr; コンソール &darr;
	Array(5) [ 1, 4, 9, 16, 25 ]
	*/
</code>
numbers配列の各要素を2乗して返しています。<br />配列の要素がなくなると、「undefined」となるため、これを利用して再帰処理を中断します。
<script src="../package/js-modules/koko-code/ver1.js" charset="utf-8" defer></script>