<h1>関数を値として扱う講座第一弾</h1>
関数を値として扱うって何だろう、、、<br />これは、プログラミング言語が関数型言語としての性質を持つことを意味します。<br /><br />難しく説明すると、言語自体が関数を第一級のオブジェクトとして扱うものとなります。<br />簡単に説明すれば、関数を変数に代入できるものとなります。<br /><br />ということで、まずはチェック!!<br />最初は関数型言語でない、pythonを用いて関数を変数に代入してみましょう♪
<code class="python">
	# ***** エラー *****

	fx = def(x, y):
		return x + y
	
	print(fx(1, 2))

	# ***** コンソール *****
	# invalid syntax
	# ***** ******** ******
</code>
<img src="data/20220221(1).gif" alt="関数型言語" />
次は、関数型言語である、javascriptで実行してみます。
<p class="r">javascriptは関数型言語でないとの見方もありますが、関数を第一級オブジェクトとして扱っていることは明確で、関数型言語として使用することも可能です。</p>
<code class="javascript">
	const fx = function add(x, y) {
		return x + y;
	}
	  
	console.log(fx(1, 2));

	/* &darr; コンソール &darr;
	3
	*/
</code>
<img src="data/20220221(2).gif" alt="関数型言語" />
これがどんな意味を持つね～～～ん!!って思いますよね、、、<br /><br />これは、関数が合成可能であることを意味します。<br />
<img src="data/20220221(3).png" alt="関数型言語" />
う～～～ん、、、<br />関数の合成って言ってもピンと来ませんよね、、、<br /><br />ということで、最初に以下のコードを理解してください。
<code class="javascript">
	function add(x, y) {
		return x + y;
	}
	function times(x, y) {
		return x * y;
	}
	function add_times(fx1, fx2) {
		return function (a, b, c) {
			return fx2(fx1(a, b), c)
		}
	}
</code>
引数2つの和を返す「add」関数と引数2つの席を返す「times」関数を定義しています。<br /><br />で、その後によくわからない関数がありますね、、、<br /><br />関数の戻り値として関数を返しています。<br />で、さらにその関数の戻り値も怪しげですね、、、<br /><br />最初にこの関数を使用してみましょう♪
<code class="javascript">
	console.log(add_times(add, times)(2, 3, 4)); // 10
	console.log(add_times(times, add)(2, 3, 4)); // 20
</code>
<img src="data/20220221(4).gif" alt="関数型言語" />
上の文では、「2 &times; 3」を最初に行って、その結果に「4」を足しています。<br />下の文は、「2 + 3」を最初に行って、その結果に「4」をかけています。
<div class="separator"></div>
ということで、ここで「add_times」関数の説明をもう一度行います。<br /><br />「add_times」関数は、引数として関数を2つとります。<br />戻り値として、無名関数を返していますが、これは引数を3つとり、さらにこの関数はこの関数を取得したときの第二引数として与えた関数を今回の第一引数と第二引数を引数として実行し、その結果と新しい第三引数を古い第二引数として与えられた関数の引数として実行した値を返します。<br /><br />関数がさらに関数を返すため、古い引数と新しい引数でごっちゃになります、、、<br />図に書いてみましょう♪
<img src="data/20220221(5).png" alt="関数型言語" />
無名関数は即時関数とも呼ばれ、その場で実行されるため、その戻り値として何を返すのかに着目してください。
<div class="separator"></div>
関数を値として扱う講座第一弾はここまで♪<br />基礎的な部分しか説明できませんでしたが、なんとなく関数を値として扱うということを理解できましたか???<br />関数型言語に興味を持った方は是非、学んでみてください。<br />結構面白いです。
<div class="separator"></div>
あっ!!!<br /><br />関数の合成について説明していない、、、笑笑<br /><br />明日書きます。
<script src="../package/js-modules/koko-code/ver1.js" charset="utf-8" defer></script>